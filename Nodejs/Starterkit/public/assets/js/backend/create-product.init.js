ClassicEditor.create(document.querySelector("#ckeditor-classic")).then((function(e){e.ui.view.editable.element.style.height="200px"})).catch((function(e){console.error(e)}));var thumbnailArray=[],myDropzone=new Dropzone("div.my-dropzone",{url:"/file/post",addRemoveLinks:!0,removedfile:function(e){e.previewElement.remove(),thumbnailArray=[]}});myDropzone.on("thumbnail",(function(e,t){thumbnailArray.push(t)}));var mockFile={name:"Existing file!",size:12345},productCategoryInput=new Choices("#choices-category-input",{searchEnabled:!1});if(editinputValueJson=sessionStorage.getItem("editInputValue")){var editinputValueJson=JSON.parse(editinputValueJson);document.getElementById("formAction").value="edit",document.getElementById("product-id-input").value=editinputValueJson.id,productCategoryInput.setChoiceByValue(editinputValueJson.category),myDropzone.options.addedfile.call(myDropzone,mockFile),myDropzone.options.thumbnail.call(myDropzone,mockFile,editinputValueJson.productImg),thumbnailArray.push(editinputValueJson.productImg),document.getElementById("product-title-input").value=editinputValueJson.productTitle,document.getElementById("stocks-input").value=editinputValueJson.stock,document.getElementById("product-price-input").value=editinputValueJson.price,document.getElementById("product-discount-input").value=editinputValueJson.discount,document.getElementById("orders-input").value=editinputValueJson.orders,Array.from(document.querySelectorAll(".clothe-colors li")).forEach((function(e){var t=e.querySelector('[type="checkbox"]');editinputValueJson.color.map((function(e){e==t.value&&t.setAttribute("checked","checked")}))})),Array.from(document.querySelectorAll(".clothe-size li")).forEach((function(e){var t=e.querySelector('[type="checkbox"]');editinputValueJson.size&&editinputValueJson.size.map((function(e){e==t.value&&t.setAttribute("checked","checked")}))}))}var forms=document.querySelectorAll(".needs-validation"),date=(new Date).toUTCString().slice(5,16),itemid=13,colorsArray=[],sizesArray=[];Array.prototype.slice.call(forms).forEach((function(e){e.addEventListener("submit",(function(t){if(e.checkValidity()){t.preventDefault();var o=itemid,i=document.getElementById("product-title-input").value,r=productCategoryInput.getValue(!0),n=document.getElementById("stocks-input").value,u=document.getElementById("orders-input").value,l=document.getElementById("product-price-input").value,c=document.getElementById("product-discount-input").value;document.querySelectorAll(".clothe-colors li").forEach((function(e){if(1==e.querySelector("input").checked){var t=e.querySelector("input").value;colorsArray.push(t)}})),document.querySelectorAll(".clothe-size li").forEach((function(e){if(1==e.querySelector("input").checked){var t=e.querySelector("input").value;sizesArray.push(t)}}));var a=document.getElementById("formAction").value;if("add"==a&&""!==r&&thumbnailArray.length>0){if(null!=sessionStorage.getItem("inputValue")){var s=JSON.parse(sessionStorage.getItem("inputValue")),d={id:o+1,productImg:thumbnailArray[0],productTitle:i,category:r,price:l,discount:c,rating:"--",color:colorsArray,size:sizesArray,stock:n,orders:u,publish:date};s.push(d),sessionStorage.setItem("inputValue",JSON.stringify(s))}else{s=[],d={id:o,productImg:thumbnailArray[0],productTitle:i,category:r,price:l,discount:c,rating:"--",color:colorsArray,size:sizesArray,stock:n,orders:u,publish:date};s.push(d),sessionStorage.setItem("inputValue",JSON.stringify(s))}window.location.replace("product-list")}else if("edit"==a&&""!==r&&thumbnailArray.length>0){var p=document.getElementById("product-id-input").value;if(sessionStorage.getItem("editInputValue")){var m={id:parseInt(p),productImg:thumbnailArray[0],productTitle:i,category:r,price:l,discount:c,rating:editinputValueJson.rating,color:colorsArray,size:sizesArray,stock:n,orders:u,publish:editinputValueJson.publish};sessionStorage.setItem("editInputValue",JSON.stringify(m))}window.location.replace("product-list")}else console.log("Form Action Not Found.");return!1}t.preventDefault(),t.stopPropagation(),e.classList.add("was-validated")}),!1)}));